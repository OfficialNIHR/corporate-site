! function (t, a, e) {
    "use strict";
    t.requestAnimationFrame = t.requestAnimationFrame || t.webkitRequestAnimationFrame || t.mozRequestAnimationFrame || function (a) {
        t.setTimeout(a, 16)
    }, Function.prototype.debounce = function (t, a) {
        var e, n = this;
        return function () {
            function s() {
                a || n.apply(i, o), e = null
            }
            var i = this,
                o = arguments;
            e ? clearTimeout(e) : a && n.apply(i, o), e = setTimeout(s, t || 100)
        }
    }, e.fn.maxHeight = function (t) {
        t = t || !0;
        var n = [],
            s = this;
        return s.length < 2 ? s : (s.each(function () {
            var t = e(this);
            t.height(""), "undefined" !== a.body.style.minHeight && t.css("min-height", ""), n.push(t.height() + parseFloat(t.css("padding-top") || 0) + parseFloat(t.css("padding-bottom") || 0) + parseFloat(t.css("border-top") || 0) + parseFloat(t.css("border-bottom") || 0))
        }).each(function () {
            var s = e(this);
            requestAnimationFrame(function () {
                s.css("undefined" !== a.body.style.minHeight && t ? "min-height" : "height", Math.max.apply(0, n) - ("border-box" === s.css("box-sizing") ? 0 : parseFloat(s.css("padding-top") || 0) - parseFloat(s.css("padding-bottom") || 0) - parseFloat(s.css("border-top") || 0) - parseFloat(s.css("border-bottom") || 0)) + "px")
            })
        }), s)
    };
    var n = function () {};
    n.utils = function () {}, n.status = function () {}, n.status.mqs = function () {}, n.status.functions = function () {}, n.utils.testAttribute = function (t, e) {
        var n = a.createElement(t);
        return e in n ? !0 : !1
    }, n.utils.placeholderPollyfill = function () {
        e("input[placeholder], textbox[placeholder]").each(function () {
            var t = e(this),
                a = t.closest("form");
            "" === t.val() && t.val(t.attr("placeholder")), a.on("submit", function (a) {
                t.val() == t.attr("placeholder") && t.val("")
            })
        }).on("focus", function () {
            var t = e(this);
            t.val() == t.attr("placeholder") && t.val("")
        })
    }, n.utils.rowFix = function (t, a) {
        for (var e = t.length, n = 0; e > n;) t.slice(n, n + a).maxHeight(), n += a
    }, n.status.functions.extraSmall = function (t) {
        t.matches && (n.navigationPlus.onResize(), n.$banners.length && n.$banners.each(function (t) {
            var a = e(this);
            a.find(".slide").length > 1 && "object" != typeof a.data("cycle.opts") ? n.banner(a, !1) : a.find(".slide").length > 1 && "object" == typeof a.data("cycle.opts") && a.cycle("pause").trigger("cycle-resize")
        }))
    }, n.status.functions.small = function (t) {
        t.matches && (n.navigationPlus.onResize(), n.$banners.length && n.$banners.each(function (t) {
            var a = e(this);
            a.find(".slide").length > 1 && "object" != typeof a.data("cycle.opts") ? n.banner(a, !1) : a.find(".slide").length > 1 && "object" == typeof a.data("cycle.opts") && a.cycle("pause").trigger("cycle-resize")
        }))
    }, n.status.functions.medium = function (t) {
        t.matches && (n.navigationPlus.onResize(), n.$banners.length && n.$banners.each(function (t) {
            var a = e(this);
            a.find(".slide").length > 1 && "object" != typeof a.data("cycle.opts") ? n.banner(a, !t) : a.find(".slide").length > 1 && "object" == typeof a.data("cycle.opts") && (a.trigger("cycle-resize"), a.data("paused") || a.cycle("resume"))
        }))
    }, n.status.functions.large = function (t) {
        t.matches && (n.navigationPlus.onResize(), n.$banners.length && n.$banners.each(function (t) {
            var a = e(this);
            a.find(".slide").length > 1 && "object" != typeof a.data("cycle.opts") ? n.banner(a, !t) : a.find(".slide").length > 1 && "object" == typeof a.data("cycle.opts") && (a.trigger("cycle-resize"), a.data("paused") || a.cycle("resume"))
        }))
    }, n.status.functions.xl = function (t) {
        t.matches && (n.navigationPlus.onResize(), n.$banners.length && n.$banners.each(function (t) {
            var a = e(this);
            a.find(".slide").length > 1 && "object" != typeof a.data("cycle.opts") ? n.banner(a, !t) : a.find(".slide").length > 1 && "object" == typeof a.data("cycle.opts") && (a.trigger("cycle-resize"), a.data("paused") || a.cycle("resume"))
        }))
    }, n.init = function () {
        n.load = [], n.$horizNav = e(".horiz-nav"), n.$navControlContainer = e(".nav-control-container"), n.$banners = e(".banner"), n.navigationPlus(), "function" == typeof matchMedia && matchMedia("screen").addListener ? (n.status.mqs.extraSmall = matchMedia("(max-width: 400px)"), n.status.mqs.small = matchMedia("(min-width: 400px) and (max-width: 700px)"), n.status.mqs.medium = matchMedia("(min-width: 700px) and (max-width: 1000px)"), n.status.mqs.large = matchMedia("(min-width: 1000px) and (max-width: 1200px)"), n.status.mqs.xl = matchMedia("(min-width: 1200px)"), n.status.mqs.extraSmall.addListener(n.status.functions.extraSmall), n.status.mqs.small.addListener(n.status.functions.small), n.status.mqs.medium.addListener(n.status.functions.medium), n.status.mqs.large.addListener(n.status.functions.large), n.status.mqs.xl.addListener(n.status.functions.xl)) : (n.status.mqs.xl = {
            matches: !0
        }, n.status.mqs.large = {
            matches: !1
        }, n.status.mqs.medium = {
            matches: !1
        }, n.status.mqs.small = {
            matches: !1
        }, n.status.mqs.extraSmall = {
            matches: !1
        });
        for (var a in n.status.mqs) n.status.mqs.hasOwnProperty(a) && !0 === n.status.mqs[a].matches && n.status.functions[a](n.status.mqs[a]);
        n.pageWidth = t.innerWidth || t.screen.width, e(t).load(function () {
            for (var t = n.load.length - 1; t >= 0; t--) n.load[t]()
        })
    }, n.navigationPlus = function () {
        "array" != typeof n.navigationPlus.horizNavItems && (n.navigationPlus.init(), n.navigationPlus.horizNavWidth = n.$horizNav.width(), e(t).on("resize", n.navigationPlus.onResize.debounce(50)), requestAnimationFrame(n.navigationPlus.resize))
    }, n.navigationPlus.onResize = function () {
        (t.innerWidth || t.screen.width) !== n.pageWidth && (n.$horizNav.width() !== n.navigationPlus.horizNavWidth && (n.navigationPlus.horizNavWidth = Math.floor(n.$navControlContainer.width())), n.pageWidth = t.innerWidth || t.screen.width), requestAnimationFrame(n.navigationPlus.resize)
    }, n.navigationPlus.resize = function () {
        function t(t) {
            t.element.css("display", ""), t.state = 1, delete o[t.index]
        }

        function a(a, e, n) {
            "boolean" == typeof e && (n = e, e = a), e = e || a, n = n || !1, a.active ? 1 === e.state ? (e.element.css("display", "none"), e.state = 0, o[e.index] = e, s = s - e.width + a.width, 0 === a.state && t(a)) : s += a.width : (a.element.css("display", "none"), a.state = 0, o[a.index] = a, n && (s -= a.width)), i = !0
        }
        var s = 0,
            i = !1,
            o = [];
        n.navigationPlus.$overflowNav.detach().empty();
        for (var l = 0, r = n.navigationPlus.horizNavItems.length; r > l; l++) {
            var c = i;
            if (s + n.navigationPlus.horizNavItems[l].width > n.navigationPlus.horizNavWidth) {
                for (a(n.navigationPlus.horizNavItems[l], n.navigationPlus.horizNavItems[l - 1]), c !== i && (s += n.navigationPlus.overflowWidth), !c && l > 0 && s > n.navigationPlus.horizNavWidth && (l > 1 ? a(n.navigationPlus.horizNavItems[l - 1], n.navigationPlus.horizNavItems[l - 2], !0) : a(n.navigationPlus.horizNavItems[l - 1], !0)); s > n.navigationPlus.horizNavWidth;)
                    for (var u = l; u >= 0; u--)
                        if (1 === n.navigationPlus.horizNavItems[u].state) {
                            if (!n.navigationPlus.horizNavItems[u].active) {
                                a(n.navigationPlus.horizNavItems[u], !0);
                                break
                            }
                            0 === u && a(n.navigationPlus.horizNavItems[l], !0)
                        }
            } else 0 === n.navigationPlus.horizNavItems[l].state && t(n.navigationPlus.horizNavItems[l]), s += n.navigationPlus.horizNavItems[l].width
        }
        if (i) {
            n.navigationPlus.$overflow.css("display", "");
            for (var l = n.navigationPlus.horizNavItems.length - 1; l >= 0; l--) o[l] && n.navigationPlus.$overflowNav.prepend(e("<li></li>").prepend(o[l].element.clone().css("display", "")));
            n.navigationPlus.$overflow.append(n.navigationPlus.$overflowNav)
        } else n.navigationPlus.$overflow.css("display", "none"), n.navigationPlus.$overflowToggle.prop("checked", !1)
    }, n.navigationPlus.init = function () {
        n.navigationPlus.horizNavItems = [], n.navigationPlus.$overflow = e('<div class="nav-overflow"><label for="overflowToggle">More</label></div>').prepend(n.navigationPlus.$overflowToggle = e('<input type="checkbox" id="overflowToggle" />')).insertAfter(n.$horizNav), n.navigationPlus.$overflowNav = e("<ul></ul>"), n.navigationPlus.overflowWidth = function () {
            var t;
            return n.navigationPlus.$overflow.css("display", ""), t = n.navigationPlus.$overflow.width() + parseInt(n.navigationPlus.$overflow.css("padding-left")) + parseInt(n.navigationPlus.$overflow.css("padding-right")) + parseInt(n.navigationPlus.$overflow.css("border-left-width")) + parseInt(n.navigationPlus.$overflow.css("border-right-width")), n.navigationPlus.$overflow.css("display", "none"), t + 1
        }(), n.$horizNav.find("li a").each(function (t) {
            var a = e(this);
            n.navigationPlus.horizNavItems.push({
                element: a,
                width: a.width() + parseInt(a.css("padding-left")) + parseInt(a.css("padding-right")),
                state: 1,
                active: a.closest("li").hasClass("SKNavActive") || a.closest("li").hasClass("SKNavCurrent"),
                index: t
            })
        })
    }, n.banner = function (a, s) {
        function i(a, e) {
            var s, i, o, l, d = c.outerHeight();
            a.length && e.length ? (s = a.height(), t.Modernizr && Modernizr.csstransforms ? (r.css({
                transform: "translateY(" + s + "px)"
            }), u.css({
                display: "",
                transform: "translateY(" + -s / 2 + "px)"
            })) : (r.css({
                top: s + "px"
            }), u.css({
                display: "",
                top: -s / 2 + "px"
            })), c.css({
                height: e.height() - 18
            })) : a.length ? (s = a.height(), o = s - d, l = -s / 2 + d, l = l > -d - 10 ? n.status.mqs.extraSmall.matches ? -57 : -67 : l, t.Modernizr && Modernizr.csstransforms ? (r.css({
                transform: "translateY(" + o + "px)"
            }), u.css({
                display: "",
                transform: "translateY(" + l + "px)"
            })) : (r.css({
                top: o + "px"
            }), u.css({
                display: "",
                top: l + "px"
            })), c.css({
                height: ""
            })) : e.length && (i = e.height(), r.css(t.Modernizr && Modernizr.csstransforms ? {
                transform: "translateY(35px)"
            } : {
                top: "35px"
            }), u.css({
                display: "none"
            }), c.css({
                height: i - 53
            }))
        }
        var s = "boolean" == typeof s ? s : !0,
            o = "banner-pause",
            l = "banner-play",
            r = e('<div class="banner-controls"><div class="banner-pager"></div></div>'),
            c = e('<span class="state-control ' + (s ? o : l) + '"><span>' + (s ? "pause" : "play") + "</span></span>").appendTo(r),
            u = e('<a class="cycle-prev">previous</a><a class="cycle-next">next</a>').appendTo(r);
        n.load.push(function () {
            a.append(r).cycle({
                fx: "scrollHorz",
                slides: "> .slide",
                pauseOnHover: !0,
                swipe: !0,
                paused: !s,
                log: !1,
                autoHeight: "calc",
                speed: 1e3,
                timeout: 5e3,
                pager: "> * .banner-pager",
                prev: "> * .cycle-prev",
                next: "> * .cycle-next"
            }).data("paused", !s)
        }), a.on("cycle-initialized", function () {
            var t = e(this).find(".cycle-slide-active");
            i(t.find("img"), t.find(".banner-comment"))
        }).on("cycle-resize", function () {
            var t = e(this),
                a = t.data("cycle.opts"),
                n = e(a.slides[a.currSlide]);
            i(n.find("img"), n.find(".banner-comment"))
        }).on("cycle-before", function (t, a, n, s, o) {
            var l = e(s);
            i(l.find("img"), l.find(".banner-comment"))
        }.debounce(5)).on("click", ".state-control", function (t) {
            var n = e(this);
            n.hasClass(o) ? (a.cycle("pause").data("paused", a.is(".cycle-paused")), n.removeClass(o).addClass(l).html("<span>play</span>")) : (a.cycle("resume").data("paused", a.is(".cycle-paused")), n.removeClass(l).addClass(o).html("<span>pause</span>")), t.preventDefault()
        })
    }, n.init()
}(window, document, jQuery);